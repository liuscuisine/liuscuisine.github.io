"use strict";(self.webpackChunkrest=self.webpackChunkrest||[]).push([[876],{1876:(y,m,t)=>{t.r(m),t.d(m,{MainModule:()=>Y,MainRoutingModule:()=>v});var r=t(7211),d=t(9783),s=t(7253),i=t(515),c=t(262),C=t(4004),D=t(4185);class S{}var p=t(9808);const g=new p.uU("en-US");class F{constructor(){this.weekday=0,this.active=!0,this.fromTo=void 0,this.weekdayString=void 0,this.fromDateTime=void 0,this.toDateTime=void 0}onMapping(){if(this.from&&this.to){let a=g.transform(new Date(this.from),"hh:mm a"),e=g.transform(new Date(this.to),"hh:mm a");this.fromTo=a+"-"+e,this.fromDateTime=new Date(this.from),this.toDateTime=new Date(this.to)}this.weekdayString=p.VR[this.weekday]}}var o=t(7587),T=t(3558),O=t(72),f=t(4965);const u=new s.Yd("MainInteractor");let M=(()=>{class n{constructor(e,h,l,z,G,L,I){this.route=e,this.router=h,this.companyService=l,this.messageService=z,this.confirmationService=G,this.spinnerService=L,this.storageService=I,this.subscriptions=[],this.presenter=new S,this.loading=!1}loadData(){this.observableData=this.companyService.getCompany("company/hours","network-only").pipe((0,c.K)(e=>(u.error(e),(0,i.c)()))).pipe((0,C.U)(e=>(u.debug(e),e.company.hours.map(h=>new D.y(F).map(h)))))}reloadData(e){void 0!==e&&0!=e.length&&e.filter(l=>l.active)}subscribeChanges(){this.observableData&&this.subscriptions.push(this.observableData.subscribe(e=>{u.debug(e),this.reloadData(e),this.storageService.openingHours=e}))}unsubscribeChanges(){this.subscriptions.length&&this.subscriptions.forEach(e=>e.unsubscribe())}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(r.gz),o.LFG(r.F0),o.LFG(T.J),o.LFG(d.ez),o.LFG(d.YP),o.LFG(O.t2),o.LFG(f.P))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();new s.Yd("MainComponent");const P=[{path:":company_id",component:(()=>{class n{constructor(e,h,l){this.route=e,this.storageService=h,this.interactor=l,this.storageService.companyId=this.route.snapshot.params.company_id}ngOnInit(){this.viewModel=this.interactor.presenter,this.interactor.loadData(),this.interactor.subscribeChanges()}ngOnDestroy(){this.interactor.unsubscribeChanges()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(r.gz),o.Y36(f.P),o.Y36(M))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-main"]],features:[o._Bn([d.YP,M])],decls:1,vars:0,template:function(e,h){1&e&&o._UZ(0,"router-outlet")},directives:[r.lC],styles:[""]}),n})(),children:[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",loadChildren:()=>Promise.all([t.e(132),t.e(874),t.e(823),t.e(398)]).then(t.bind(t,1398)).then(n=>n.HomeModule)},{path:"menu",loadChildren:()=>Promise.all([t.e(132),t.e(874),t.e(823)]).then(t.bind(t,8823)).then(n=>n.MenuModule)},{path:"cart",loadChildren:()=>Promise.all([t.e(132),t.e(874),t.e(495),t.e(480)]).then(t.bind(t,8480)).then(n=>n.CartModule)},{path:"orders",loadChildren:()=>Promise.all([t.e(132),t.e(495),t.e(228)]).then(t.bind(t,4228)).then(n=>n.OrderModule)}]}];let v=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[r.Bz.forChild(P)],r.Bz]}),n})(),Y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[p.ez,v]]}),n})()},4185:(y,m,t)=>{t.d(m,{y:()=>r});class r{constructor(s){this._target=new s,this._propertyMapping=this._target.constructor._propertyMap}map(s){return Object.keys(this._target).forEach(i=>{const c=this._propertyMapping?this._propertyMapping[i]:i;this._target[i]=c?s[c]:s[i]}),Object.keys(s).forEach(i=>{-1===Object.keys(this._target).indexOf(i)&&(this._target[i]=s[i])}),this.isFunction(this._target.onMapping)&&this._target.onMapping(),this._target}isFunction(s){return s&&"function"==typeof s}}}}]);