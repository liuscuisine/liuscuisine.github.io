"use strict";(self.webpackChunkrest=self.webpackChunkrest||[]).push([[876],{1876:(y,d,t)=>{t.r(d),t.d(d,{MainModule:()=>z,MainRoutingModule:()=>v});var r=t(7211),m=t(9783),e=t(7253),i=t(515),c=t(262),C=t(4004),S=t(4185);class F{}var p=t(9808);const u=new p.uU("en-US");class D{constructor(){this.weekday=0,this.active=!0,this.fromTo=void 0,this.weekdayString=void 0}onMapping(){if(this.from&&this.to){let a=u.transform(new Date(this.from),"hh:mm a"),o=u.transform(new Date(this.to),"hh:mm a");this.fromTo=a+"-"+o}this.weekdayString=p.VR[this.weekday]}}var s=t(7587),O=t(3558),P=t(72),f=t(4965);const g=new e.Yd("MainInteractor");let M=(()=>{class n{constructor(o,h,l,G,L,I,T){this.route=o,this.router=h,this.companyService=l,this.messageService=G,this.confirmationService=L,this.spinnerService=I,this.storageService=T,this.subscriptions=[],this.presenter=new F,this.loading=!1}loadData(){this.observableData=this.companyService.getCompany("company/hours","network-only").pipe((0,c.K)(o=>(g.error(o),(0,i.c)()))).pipe((0,C.U)(o=>(g.debug(o),o.company.hours.map(h=>new S.y(D).map(h)))))}reloadData(o){void 0!==o&&0!=o.length&&o.filter(l=>l.active)}subscribeChanges(){this.observableData&&this.subscriptions.push(this.observableData.subscribe(o=>{g.debug(o),this.reloadData(o),this.storageService.openingHours=o}))}unsubscribeChanges(){this.subscriptions.length&&this.subscriptions.forEach(o=>o.unsubscribe())}}return n.\u0275fac=function(o){return new(o||n)(s.LFG(r.gz),s.LFG(r.F0),s.LFG(O.J),s.LFG(m.ez),s.LFG(m.YP),s.LFG(P.t2),s.LFG(f.P))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();new e.Yd("MainComponent");const Y=[{path:":company_id",component:(()=>{class n{constructor(o,h,l){this.route=o,this.storageService=h,this.interactor=l,this.storageService.companyId=this.route.snapshot.params.company_id}ngOnInit(){this.viewModel=this.interactor.presenter,this.interactor.loadData(),this.interactor.subscribeChanges()}ngOnDestroy(){this.interactor.unsubscribeChanges()}}return n.\u0275fac=function(o){return new(o||n)(s.Y36(r.gz),s.Y36(f.P),s.Y36(M))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-main"]],features:[s._Bn([m.YP,M])],decls:1,vars:0,template:function(o,h){1&o&&s._UZ(0,"router-outlet")},directives:[r.lC],styles:[""]}),n})(),children:[{path:"",pathMatch:"full",redirectTo:"home"},{path:"home",loadChildren:()=>Promise.all([t.e(132),t.e(874),t.e(823),t.e(398)]).then(t.bind(t,1398)).then(n=>n.HomeModule)},{path:"menu",loadChildren:()=>Promise.all([t.e(132),t.e(874),t.e(823)]).then(t.bind(t,8823)).then(n=>n.MenuModule)},{path:"cart",loadChildren:()=>Promise.all([t.e(132),t.e(874),t.e(495),t.e(575)]).then(t.bind(t,8575)).then(n=>n.CartModule)},{path:"orders",loadChildren:()=>Promise.all([t.e(132),t.e(495),t.e(228)]).then(t.bind(t,4228)).then(n=>n.OrderModule)}]}];let v=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[r.Bz.forChild(Y)],r.Bz]}),n})(),z=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[[p.ez,v]]}),n})()},4185:(y,d,t)=>{t.d(d,{y:()=>r});class r{constructor(e){this._target=new e,this._propertyMapping=this._target.constructor._propertyMap}map(e){return Object.keys(this._target).forEach(i=>{const c=this._propertyMapping?this._propertyMapping[i]:i;this._target[i]=c?e[c]:e[i]}),Object.keys(e).forEach(i=>{-1===Object.keys(this._target).indexOf(i)&&(this._target[i]=e[i])}),this.isFunction(this._target.onMapping)&&this._target.onMapping(),this._target}isFunction(e){return e&&"function"==typeof e}}}}]);