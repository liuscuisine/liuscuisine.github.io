"use strict";(self.webpackChunkrest=self.webpackChunkrest||[]).push([[228],{9838:(D,v,n)=>{function a(d){return function(s,p){s.constructor._propertyMap||(s.constructor._propertyMap={}),s.constructor._propertyMap[p]=d}}n.d(v,{z:()=>a})},4228:(D,v,n)=>{n.r(v),n.d(v,{OrderModule:()=>R,OrderRoutingModule:()=>b});var a=n(7211),d=n(7253),s=n(4185),p=n(655),h=n(9838);new d.Yd("DetailViewModel");class Z{}class c{constructor(){this.orderedAt=new Date,this.ordered_at=null,this.orderedBy=null,this.printable=null}onMapping(){var r,i;this.orderedAt=new Date(new Date(null!==(r=this.ordered_at)&&void 0!==r?r:0).toLocaleString()+" UTC");let o=JSON.parse(null!==(i=this.printable)&&void 0!==i?i:"");this.printableEnJson=o.en,this.printableCnJson=o.cn}}(0,p.gn)([(0,h.z)("ordered_at")],c.prototype,"ordered_at",void 0),(0,p.gn)([(0,h.z)("ordered_by")],c.prototype,"orderedBy",void 0),(0,p.gn)([(0,h.z)("printable")],c.prototype,"printable",void 0);var e=n(7587);const M=new d.Yd("DetailInteractor");let y=(()=>{class t{constructor(i){this.route=i,this.presenter=new Z,this.subscriptions=[]}loadData(){}subscribeChanges(){this.subscriptions.push(this.route.data.subscribe(i=>{var o=i.data.order;this.presenter.orderDetail=new s.y(c).map(o)},i=>{M.debug("Second result with error",i)}))}submit(i){}unsubscribeChanges(){this.subscriptions.length&&this.subscriptions.forEach(i=>i.unsubscribe())}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(a.gz))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac}),t})();var l=n(9808);const T=["*"];let w=(()=>{class t{constructor(){this.layout="horizontal",this.type="solid"}containerClass(){return{"p-divider p-component":!0,"p-divider-horizontal":"horizontal"===this.layout,"p-divider-vertical":"vertical"===this.layout,"p-divider-solid":"solid"===this.type,"p-divider-dashed":"dashed"===this.type,"p-divider-dotted":"dotted"===this.type,"p-divider-left":"horizontal"===this.layout&&(!this.align||"left"===this.align),"p-divider-center":"horizontal"===this.layout&&"center"===this.align||"vertical"===this.layout&&(!this.align||"center"===this.align),"p-divider-right":"horizontal"===this.layout&&"right"===this.align,"p-divider-top":"vertical"===this.layout&&"top"===this.align,"p-divider-bottom":"vertical"===this.layout&&"bottom"===this.align}}}return t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["p-divider"]],hostAttrs:[1,"p-element"],inputs:{styleClass:"styleClass",style:"style",layout:"layout",type:"type",align:"align"},ngContentSelectors:T,decls:3,vars:4,consts:[["role","separator",3,"ngClass","ngStyle"],[1,"p-divider-content"]],template:function(i,o){1&i&&(e.F$t(),e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA(),e.qZA()),2&i&&(e.Tol(o.styleClass),e.Q6J("ngClass",o.containerClass())("ngStyle",o.style))},directives:[l.mk,l.PC],styles:['.p-divider-horizontal{display:flex;width:100%;position:relative;align-items:center}.p-divider-horizontal:before{position:absolute;display:block;top:50%;left:0;width:100%;content:""}.p-divider-horizontal.p-divider-left{justify-content:flex-start}.p-divider-horizontal.p-divider-right{justify-content:flex-end}.p-divider-horizontal.p-divider-center{justify-content:center}.p-divider-content{z-index:1}.p-divider-vertical{min-height:100%;margin:0 1rem;display:flex;position:relative;justify-content:center}.p-divider-vertical:before{position:absolute;display:block;top:0;left:50%;height:100%;content:""}.p-divider-vertical.p-divider-top{align-items:flex-start}.p-divider-vertical.p-divider-center{align-items:center}.p-divider-vertical.p-divider-bottom{align-items:flex-end}.p-divider-solid.p-divider-horizontal:before{border-top-style:solid}.p-divider-solid.p-divider-vertical:before{border-left-style:solid}.p-divider-dashed.p-divider-horizontal:before{border-top-style:dashed}.p-divider-dashed.p-divider-vertical:before{border-left-style:dashed}.p-divider-dotted.p-divider-horizontal:before{border-top-style:dotted}.p-divider-dotted.p-divider-horizontal:before{border-left-style:dotted}\n'],encapsulation:2,changeDetection:0}),t})(),A=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez]]}),t})();function J(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1," Pre-Order "),e.qZA())}function C(t,r){if(1&t&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij(" When: ",i.viewModel.orderDetail.printableEnJson.deliverOption.when," ")}}function z(t,r){if(1&t&&(e.TgZ(0,"div",5),e.TgZ(1,"div",7),e._uU(2),e.qZA(),e.TgZ(3,"div",7),e._uU(4),e.qZA(),e.qZA()),2&t){const i=r.$implicit;e.xp6(2),e.lnq(" ",i.quantity," x ",i.name," - ",i.comment," "),e.xp6(2),e.hij(" ",i.price," ")}}function U(t,r){1&t&&(e.TgZ(0,"div",7),e._uU(1," Delivery: "),e.qZA())}function O(t,r){if(1&t&&(e.TgZ(0,"div",7),e._uU(1),e.qZA()),2&t){const i=e.oxw();e.xp6(1),e.hij(" ",i.viewModel.orderDetail.printableEnJson.Delivery," ")}}const x=new d.Yd("DetailInteractor");let j=(()=>{class t{constructor(i){this.interactor=i}ngOnInit(){this.interactor.loadData(),this.viewModel=this.interactor.presenter,this.interactor.subscribeChanges(),x.debug(this.viewModel.orderDetail.printableEnJson)}submit(i){}ngOnDestroy(){this.interactor.unsubscribeChanges()}print(){window.print()}}return t.\u0275fac=function(i){return new(i||t)(e.Y36(y))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-detail"]],features:[e._Bn([y])],decls:38,vars:13,consts:[[1,"container"],["id","invoice-content"],["onclick","navigator.clipboard.writeText(window.location.href);"],[4,"ngIf"],["class","grid",4,"ngFor","ngForOf"],[1,"grid"],["class","col-6",4,"ngIf"],[1,"col-6"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"p"),e._uU(3," We are working on your orders and we have sent the link to your email. "),e.qZA(),e.TgZ(4,"button",2),e._uU(5," Copy the link to clipboard "),e.qZA(),e.TgZ(6,"h5"),e._uU(7),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA(),e.YNc(10,J,2,0,"div",3),e.YNc(11,C,2,1,"div",3),e.TgZ(12,"div"),e._uU(13),e.qZA(),e.TgZ(14,"div"),e._uU(15),e.qZA(),e._UZ(16,"p-divider"),e.YNc(17,z,5,4,"div",4),e._UZ(18,"p-divider"),e.TgZ(19,"div",5),e.YNc(20,U,2,0,"div",6),e.YNc(21,O,2,1,"div",6),e.TgZ(22,"div",7),e._uU(23," Subtotal: "),e.qZA(),e.TgZ(24,"div",7),e._uU(25),e.qZA(),e.TgZ(26,"div",7),e._uU(27," Tax: "),e.qZA(),e.TgZ(28,"div",7),e._uU(29),e.qZA(),e.TgZ(30,"div",7),e._uU(31," Tip: "),e.qZA(),e.TgZ(32,"div",7),e._uU(33),e.qZA(),e.TgZ(34,"div",7),e._uU(35," Total: "),e.qZA(),e.TgZ(36,"div",7),e._uU(37),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&i&&(e.xp6(7),e.hij(" ",o.viewModel.orderDetail.printableEnJson.deliverOption.method," "),e.xp6(2),e.hij(" Order at: ",o.viewModel.orderDetail.printableEnJson.time," "),e.xp6(1),e.Q6J("ngIf",o.viewModel.orderDetail.printableEnJson.deliverOption.isPreOrder),e.xp6(1),e.Q6J("ngIf",o.viewModel.orderDetail.printableEnJson.deliverOption.isPreOrder),e.xp6(2),e.hij(" Pay by: ",o.viewModel.orderDetail.printableEnJson.paymentInformation.method," "),e.xp6(2),e.hij(" ",o.viewModel.orderDetail.printableEnJson.paymentInformation.status," "),e.xp6(2),e.Q6J("ngForOf",o.viewModel.orderDetail.printableEnJson.services),e.xp6(3),e.Q6J("ngIf",o.viewModel.orderDetail.printableEnJson.Delivery),e.xp6(1),e.Q6J("ngIf",o.viewModel.orderDetail.printableEnJson.Delivery),e.xp6(4),e.hij(" ",o.viewModel.orderDetail.printableEnJson.Subtotal," "),e.xp6(4),e.hij(" ",o.viewModel.orderDetail.printableEnJson.tax," "),e.xp6(4),e.hij(" ",o.viewModel.orderDetail.printableEnJson.tip," "),e.xp6(4),e.hij(" ",o.viewModel.orderDetail.printableEnJson.total," "))},directives:[l.O5,w,l.sg],styles:[""]}),t})();var E=n(515),S=n(262),I=n(4004),q=n(9928);const m=new d.Yd("DetailResolverService"),F=[{path:"detail/:id",component:j,resolve:{data:(()=>{class t{constructor(i){this.orderService=i}resolve(i,o){var g,f;let B=+(null!==(f=null===(g=i.paramMap)||void 0===g?void 0:g.get("id"))&&void 0!==f?f:0);return this.orderService.getOrder(B).pipe((0,S.K)(u=>(m.error(u),(0,E.c)()))).pipe((0,I.U)(u=>(m.debug(u),{order:u.order})))}}return t.\u0275fac=function(i){return new(i||t)(e.LFG(q.p))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}];let b=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[a.Bz.forChild(F)],a.Bz]}),t})();var Y=n(3495),_=n(845);let R=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[l.ez,b,A,_.hJ,Y.U$]]}),t})()}}]);